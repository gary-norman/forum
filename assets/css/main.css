/* -- custom properties -- */
/* ----------------------- */
:root {
  /* fonts */
  --font-sz-title: clamp(1.8rem, 2rem + 0.65vw, 2.2rem);
  --font-sz-main: clamp(1rem, 1.2rem + 0.65vw, 1.6rem);
  --font-sz-cards: clamp(0.8rem, 1rem + 0.65vw, 1.2rem);
  /* box shadows */
  --shadow-box: 0 0.25 1rem rgb(0 0 0 / 0.5);
  --shadow-main: 0 5px 25px rgba(0 0 0 / 0.4);
  --shadow-card: 1px 0.6px 4.1px rgba(0 0 0 / 0.018),
    2.4px 1.5px 10px rgba(0 0 0 / 0.027), 4.3px 2.7px 19px rgba(0 0 0 / 0.034),
    7.4px 4.6px 33.3px rgba(0 0 0 / 0.041), 14px 8.7px 59px rgba(0 0 0 / 0.05),
    37px 23px 126px rgba(0 0 0 / 0.07);
  --shadow-text: 1px 1px 1px rgba(0, 0, 0, 0.2);
  --shadow-icon: inset 0 1px 1px rgba(0 0 0 / 0.2),
    inset 0 3px 5px rgba(0 0 0 / 0.1), inset 0 -1px 1px rgba(225 225 225 / 0.3);
  --shadow-toggle: inset 0 5px 15px rgba(0 0 0 / 0.4),
    inset 0 -1px 1px rgba(255 255 255 / 0.4);
  --shadow-button: 1px 1px 1px rgba(74, 74, 74, 0.3),
    -1px -1px 1px 0 rgba(255 2552 255 / 0.18);
  --shadow-button-hover: 4px 4px 5px -1px rgba(0, 0, 0, 0.45);
  --shadow-button-pressed: inset 0 3px 5px -1px rgba(0 0 0 / 0.3),
    inset 0 -1px 2px -1px rgba(200 200 200 / 0.6);
  --shadow-button-pressed-2: inset 0 1px 2px rgba(0 0 0 / 0.7),
    inset 0 3px 5px rgba(0 0 0 / 0.3), inset 0 -1px 2px rgba(225 225 225 / 0.5);

  /* --- transitions --- */
  --transition-dur-hover: 200ms;
  --transition-type-hover: ease-in-out;
  /* --- filters --- */
  --filter-invert-on: invert(1);
  --filter-invert-off: invert(0);
  /* --- switches --- */
  --switch-darkLight: url("/assets/icons/switch-on.svg");
  @media (prefers-color-scheme: light) {
    --filter-invert-on: invert(0);
    --filter-invert-off: invert(1);
    --switch-darkLight: url("/assets/icons/switch-off.svg");
    body {
      background: var(--color-bg-4);
    }
  }
}

/* --- functional classes --- */
#switch-dl {
  background: var(--switch-darkLight);
  height: 3rem;
  width: 5.5rem;
}
.invert-off {
  filter: invert(0);
}
/*svg {
  stroke: var(--color-fg-1);
  fill: var(--color-fg-1);
}*/

html {
  font-family: system-ui;
  font-size: 62.5%;
}
body {
  width: 100%;
  background: var(--color-bg-1);
  color: var(--color-fg-1);
  font-family: SpaceGrotesk-Regular;
  font-size: 2rem;
  overflow: hidden;
}

/* text elements and classes */
h1 {
  font-family: SpaceMono, system-ui;
  font-size: 5rem;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: normal;
}
h2 {
  font-family: SpaceMono, system-ui;
  font-size: 3.2rem;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: normal;
}
h3 {
  font-family: SpaceMono, system-ui;
  font-size: 2rem;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: normal;
}
h4 {
  font-family: SpaceMono, system-ui;
  font-size: 1.6rem;
  font-weight: bold;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: normal;
}
p {
  font-family: SpaceGrotesk-Regular, system-ui;
  font-size: 1.6rem;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: normal;
}
.p-bold, .btn-primary{
  font-family: SpaceGrotesk-Medium, system-ui;
  font-size: 1.6rem;
  font-weight: 500;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: normal;
}
small {
  font-family: SpaceGrotesk-Regular, system-ui;
  font-size: 1.2rem;
  font-weight: normal;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: normal;
}
.small-bold {
  font-family: SpaceGrotesk-Medium, system-ui;
  font-size: 1.2rem;
  font-weight: 500;
  font-stretch: normal;
  font-style: normal;
  line-height: normal;
  letter-spacing: normal;
}

a,
a:visited,
a:link,
a:active {
  text-decoration: none;
  cursor: pointer;
  /*color: inherit;*/
}
/* ---- containers ---- */
.header {
  display: flex;
  width: 100%;
  justify-content: space-between;
  align-items: center;
  padding: 0.9rem 1.5rem;
  background: var(--color-bg-2);
  border-bottom: 1px solid var(--color-bg-3);
  height: 8rem;
  z-index: 2;
}
/* ---- grid containers ---- */
.cont-grid-auto15rem {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(15rem, 1fr));
  column-gap: 1rem;
  row-gap: 0.3rem;
}
.cont-grid-4x-10rem {
  display: grid;
  grid-template-columns: repeat(4, minmax(10rem, 1fr));
  column-gap: 1rem;
  row-gap: 0.3rem;
  /*& *:hover {*/
  /*  filter: invert(1) drop-shadow(0 0 0.35rem);*/
  /*  transition: filter var(--transition-dur-hover) var(--transition-type-hover)*/
  /*    0s;*/
  /*  cursor: alias;*/
  /*}*/
}
.grid-wrapper {
  columns: 4;
  margin: 2rem 0;
}
.grid-cell {
  height: 9.6rem;
  aspect-ratio: 16 / 9;
  text-align: center;
  margin: 0 auto 1.2rem auto;
  /*margin-block: 1.2rem;*/
  border: 3px dotted var(--color-bg-3);
  border-radius: 1.2rem;
}
.grid-bullseye {
  justify-self: center;
  align-self: center;
}


  /* ---- login window ---- */

  /* ---- lab test colors ---- */

  .hexGRN {
    background      : var(--color-hl-green);
    justify-content : space-between;
  }

  .labGRN {
    background : var(--color-hl-green-lab);
  }

  .hexPINK {
    background      : var(--color-hl-pink);
    justify-content : space-between;
  }

  .labPINK {
    background : var(--color-hl-pink-lab);
  }

  .hexInRGB {
    background : radial-gradient(
            in srgb circle at 50% 100%,
            var(--color-hl-green),
            var(--color-hl-pink)
    );
  }

  .hexInHSL {
    background : radial-gradient(
            in hsl circle at 50% 100%,
            var(--color-hl-green),
            var(--color-hl-pink)
    );
  }

  .hexInLCH {
    background : radial-gradient(
            in lch circle at 50% 100%,
            var(--color-hl-green),
            var(--color-hl-pink)
    );
  }

  .hexInLAB {
    background : radial-gradient(
            in oklab circle at 50% 100%,
            var(--color-hl-green),
            var(--color-hl-pink)
    );
  }

  .labInRGB {
    background : radial-gradient(
            in srgb circle at 50% 100%,
            var(--color-hl-green-lab),
            var(--color-hl-pink-lab)
    );
  }

  .labInHSL {
    background : radial-gradient(
            in hsl circle at 50% 100%,
            var(--color-hl-green-lab),
            var(--color-hl-pink-lab)
    );
  }

  .labInLCH {
    background : radial-gradient(
            in lch circle at 50% 100%,
            var(--color-hl-green-lab),
            var(--color-hl-pink-lab)
    );
  }

  .labInLAB {
    background : radial-gradient(
            in lab circle at 50% 100%,
            var(--color-hl-green-lab),
            var(--color-hl-pink-lab)
    );
  }

  /* ---- flex containers ---- */

  .cont-flex-row {
    display : flex;
    gap     : 1.2rem;
  }

  .cont-flex-column {
    display        : flex;
    flex-direction : column;
    gap            : 1.2rem;
  }

  .flex-align-c {
    display         : flex;
    justify-content : center;
    column-gap      : 1.2rem;
  }

  /* ---------------------------------------- */

  /* prevent special form element styling  */

  legend,
  fieldset,
  select,
  textarea,
  input,
  button {
    background         : transparent;
    padding            : 0;
    margin             : 0;
    -webkit-appearance : none;
    -moz-appearance    : none;
    appearance         : none;
    border             : none;
  }

  textarea,
  input[type="text"] {
    border        : 1px solid var(--color-bg-4);
    border-radius : 1rem;
  }

  .searchbar {
    height        : 3rem;
    width         : calc(100vw / 4);
    padding       : 1rem;
    border-radius : 5rem;
  }

  /*select {*/
  /*    background: url("/assets/images/down-arrow.svg") no-repeat center right 0.75rem;*/
  /*}*/

  input[type="checkbox"]:checked {
    background : url("/assets/images/check.svg") no-repeat center / 75% auto;
  }

  .wrapper-main {
    display        : flex;
    flex-direction : column;
    max-height     : 100%;
  }

  .gradient {
    min-height : 100svh;
    background : var(--grad-main-rad);
  }

  .wrapper-form {
    background    : var(--color-bg-2);
    color         : var(--color-fg-2);
    max-width     : 40%;
    padding       : 0.6rem;
    margin        : 1rem auto;
    border        : 1px solid var(--color-bg-3);
    border-radius : 1rem;
    box-shadow    : rgba(0, 0, 0, 0.16) 0 3px 6px,
    rgba(0, 0, 0, 0.23) 0 3px 6px;

    & * {
      margin : 0.4rem;
    }
  }

  .wrapper-search {
    display         : flex;
    flex-grow       : 2;
    justify-content : center;
  }

  /* --- Codex branding --- */

  .branding {
    /*display: flex;*/
    /*flex-grow: 1;*/
    /*& p {*/
    /*    letter-spacing: .4em;*/
    /*    text-shadow: var(--shadow-text);*/
    /*}*/
    /*& p:nth-child(odd) {*/
    /*    color: var(--color-hl-pink);*/
    /*}*/
    /*& p:nth-child(even) {*/
    /*    color: var(--color-hl-green);*/
    /*}*/
    background : url("/assets/icons/codex-logo-green.svg") no-repeat;
    width      : 10.4rem;
    height     : 3.5rem;
  }

  /* --- Sidebar.--- */

  .sidebar {
    display        : flex;
    flex-direction : column;
    max-width          : 32rem;
    min-width          : 32rem;
    height         : calc(100vh - 4.9rem);
    padding        : 2.4rem 1.2rem;
    gap            : 1.2rem;
    background     : var(--color-bg-2);
    font-family    : SpaceGrotesk-Regular, system-ui;
  }

  /* sidebar separators */

  hr.solid {
    width         : calc(100% - 2.4rem);
    align-self    : center;
    border        : none;
    background    : var(--color-dark-5); /* hardcoded as works for both */
    height        : 0.2rem;
    border-radius : 0.3rem;
  }

  .sidebarProfile, .user-page-profile {
    display : flex;
    padding : 0 1.2rem;

    & > div:nth-child(2) {
      display        : flex;
      flex-direction : column;
      align-items    : center;
      padding        : 0 0 0 1rem;

      & > div {
        display        : flex;
        flex-direction : row;
        gap            : unset;
        align-self     : baseline;
      }
    }
  }

  .sidebar-profile-pic {
    width         : 60px;
    height        : 60px;
    flex-shrink   : 0;
    border-radius : 60px;
    background    : url(/assets/images/profile.png) lightgray 50% / cover no-repeat;
  }

  .sidebar-block {
    display        : flex;
    flex-direction : column;
    row-gap        : 0.8rem;

    & > * {
      padding : 0.8rem 1.2rem;
    }
  }

  .sidebar-option {
    display: flex;
    font-size    : 1.6rem;
    padding-left : 4.8rem;
    height: 4.8rem;
    align-items: center;
    border-radius : 0.8rem;
    transition   : background var(--transition-dur-hover) var(--transition-type-hover) 0s;

    &:hover,
    &:active {
      background    : var(--color-bg-3);
    }

    &::before {
      filter : var(--filter-invert-off) !important;
      position  : absolute;
      left      : 1.2rem;
      top       : 50%;
      transform : translate(0, -45%);
      height: 2.4rem;
      width: 2.4rem;
    }
  }

  .sidebar-option-btn {
    display         : flex;
    justify-content : space-between;
    align-items     : center;
  }

  .home {
    position : relative;

    &::before {
      content   : url("/assets/icons/home_24.svg");
    }
  }

  .darkMode {
    position : relative;

    &::before {
      content   : url("/assets/icons/moon_24.svg");
    }
  }

  .settings {
    position : relative;

    &::before {

      content   : url("/assets/icons/settings_24.svg");
    }
  }

  .logout {
    position : relative;

    &::before {
      content   : url("/assets/icons/logout_24.svg");
    }
  }

  .sidebar-channel-block {
    font-size     : 1.6rem;
    padding       : 0 1.2rem;
    background    : var(--color-bg-1);
    border-radius : 0.8rem;
  }

  .sidebar-channel {
    border-radius : 0.8rem;
    margin        : 0.8rem 0;
    transition    : background var(--transition-dur-hover) var(--transition-type-hover) 0s;

    &:hover,
    &:active {
      background : var(--color-bg-2);
    }
  }

  .channel_info-container {
    display     : flex;
    font-size   : 1.2rem;
    align-items : center;
    padding     : 0.8rem 1.2rem;
    column-gap  : 1.2rem;

    & div:nth-of-type(1) {
      display        : flex;
      flex-direction : column;
      row-gap        : 0.4rem;

      & div:nth-of-type(2) {
        display : flex;
      }
    }
  }

  .channel-users {
    position     : relative;
    padding-left : 2rem;

    &::before {
      content   : url("/assets/icons/users_16.svg");
      font-size : 2.8rem;
      position  : absolute;
      left      : 0;
      top       : 0.4rem;
      transform : translate(0, -47%);
    }
  }

  .channel-green-dot {
    position     : relative;
    padding-left : 2.8rem;

    &::before {
      content   : "•";
      color     : var(--color-hl-green);
      font-size : 2.8rem;
      position  : absolute;
      left      : 1.6rem;
      top       : 0.4rem;
      transform : translate(0, -47%);
    }
  }

  .heart-empty {
    background    : url("/assets/icons/heart-empty_24.svg") no-repeat;
    height        : 2.4rem;
    width         : 2.4rem;
    margin-inline : auto 0;
  }

  .heart-full {
    background    : url("/assets/icons/heart-full_24.svg") no-repeat;
    height        : 2.4rem;
    width         : 2.4rem;
    margin-inline : auto 0;
  }

  .main-window {
    display            : flex;
    flex-direction     : column;
    /*flex-grow: 1;*/
    margin-inline      : 2.4rem;
    max-width          : calc(100vw - 32rem);
    max-height         : calc(100vh - 4.9rem);
    overflow           : auto;
    -ms-overflow-style : none; /* IE and Edge */
    scrollbar-width    : none; /* Firefox */
  }

  /* Hide scrollbar for Chrome, Safari and Opera */

  .main-window::-webkit-scrollbar {
    display : none;
  }

  .posts {
    display        : flex;
    flex-direction : column;
    row-gap        : 1.2rem;
    margin         : 6rem 0;
  }

  .noborder {
    border : none;
  }

  .card {
    display        : flex;
    flex-direction : column;
    gap            : 1.2rem;
    color          : var(--color-fg-1);
    background     : var(--color-bg-2);
    border         : 1px solid var(--color-bg-3);
    border-radius  : 0.6rem;
    padding        : 1rem;
    margin         : 0.6rem;
    /*box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.20);*/
    box-shadow     : rgba(0, 0, 0, 0.16) 0 3px 6px,
    rgba(0, 0, 0, 0.23) 0 3px 6px;
    /* post top container */
  }

  .post-info-container {
    display     : flex;
    align-items : center;
    column-gap  : 1.2rem;

    /* post inner container */

    & div {
      display        : flex;
      flex-direction : column;
      gap            : 0.3rem;

      /* post below-author container */

      & div {
        display        : flex;
        flex-direction : unset;
        gap            : 0.3rem;

        & small:first-of-type {
          position : relative;
          padding  : 0 0 0 1.6rem;

          &::before {
            position : absolute;
            top      : -0.3rem;
            left     : 0;
            content  : url("/assets/icons/reply_16.svg");
            filter   : var(--filter-invert-off);
          }
        }
      }
    }
  }

  .card-profile-pic {
    width         : 24px;
    height        : 24px;
    flex-shrink   : 0;
    border-radius : 24px;
    background    : url(/assets/images/profile.png) lightgray 50% / cover no-repeat;
  }

  .cardTitle {
    font-size : 2ch;
  }

  .cardAuthor {
    font-size : 1.3ch;
  }

  .cardChannel {
    font-size : 1.3ch;
  }

  .cardDate {
    font-size : 0.8ch;
  }

  .cardContent {
    font-family        : SpaceGrotesk-Variable, system-ui;
    font-size          : 1.2rem;
    display            : -webkit-box; /* Required for the ellipsis */
    -webkit-box-orient : vertical; /* Specify vertical orientation */
    overflow           : hidden; /* Hide the overflowing text */
    text-overflow      : ellipsis; /* Add the ellipsis */
    -webkit-line-clamp : 3; /* Limit to 3 visible lines */
    line-height        : 1.5; /* Adjust the line height */
    max-height         : calc(1.5em * 3); /* Set max height to match 3 lines */
  }

  .title {
    font-size  : 3ch;
    margin     : 0.5ch;
    text-align : center;
  }

  /* -------- buttons -------- */

  .button-row, .user-page-buttons{
    display    : flex;
    padding    : 1.2rem 0;
    column-gap : 1.2rem;
  }

  .above-posts {
    position   : absolute;
    background : var(--color-bg-1);
    width      : calc(100vw - 3rem - 1.2rem - 32rem);
    z-index    : 100;
  }

.above-activity {
  position   : sticky;
  background : var(--color-bg-1);
  width      : calc(100vw - 3rem - 1.2rem - 32rem);
  z-index    : 100;
}

  .button-sm {
    display: flex;
    border-radius : 5rem;
    padding       : 0.4rem 0.8rem;
    font-size  : 1.2rem;
    height: 3.2rem;
    gap: 0.4rem;
  }

  .button-md {
    display: flex;
    border-radius : 5rem;
    padding       : 0.8rem 2rem 0.8rem 1.6rem;
    font-size  : 1.2rem;
    height: 3.6rem;

    gap: 0.8rem;
    /*margin: .6rem 0;*/
    & img {
      width: 1.6rem;
      height: 1.6rem;
    }
  }

  .button-lg {
    display: flex;
    border-radius : 5rem;
    padding       : 1.2rem 2.4rem 1.2rem 2rem;
    font-size  : 1.6rem;
    gap: 1.2rem;
    height: 4rem;

    & img {
      width: 2.4rem;
      height: 2.4rem;
    }
  }

  .btn-primary {
    background : var(--color-hl-green);
    border     : 0.15rem solid transparent;
    color      : var(--color-dark-1);
    & span {
      color: var(--color-dark-1);
      transition: color .45s;
      z-index: 11;
    }
    & img {
      filter: invert(0);
      transition: filter .45s;
      z-index: 11;
    }
    &:hover {
      & img {
        filter: invert(1);
      }
      & span {
        color: var(--color-light-1);
      }
    }

  }

  .btn-secondary {
    background : transparent;
    border     : 0.15rem solid var(--color-bg-4);
    color      : var(--color-fg-1);

    & img {
      filter : var(--filter-invert-off);
      z-index: 11;
    }
    & span {
      z-index: 11;
    }
    &:hover {
      border: 0.15rem solid transparent ;
    }
  }

  .btn-icotext {
    display         : flex;
    align-items     : center;
    justify-content : center;
    /*column-gap      : 0.4rem;*/
    width           : fit-content;
    /*&:hover {*/
    /*  & img {*/
    /*    animation: text-refresh .5s ease-in-out 1 forwards;*/
    /*  }*/
    /*  & span {*/
    /*    animation: text-refresh .5s ease-in-out 1 forwards;*/
    /*  }*/
    /*}*/
  }

.btn-icoonly{
  display         : flex;
  align-items     : center;
  justify-content : center;
  width           : fit-content;
  padding: 1.2rem 1rem;
}

  .btn-filled {
    background : var(--color-bg-3);
    border     : 0.15rem solid var(--color-bg-4);
  }

  .btn-action-primary, .btn-action-secondary {
    position: relative;
    &:hover::before {
      content: "";
      position: absolute;
      top: -0.2rem;
      left: -0.2rem;
      width: calc(100% + 0.4rem);
      height: calc(100% + 0.4rem);
      --grad-from: 0deg;
      border-radius: 2.4rem;
      animation: orbit-btn .3s ease-in 1 forwards;
      z-index: -10;
    }

    &:hover::after {
      content: ''attr(data-btn-text)'';
      position: absolute;
      top: 50%;
      left: 50%;
      color: var(--color-fg-1);
      transform: translate(-50%, -50%);
      width: var(--beam-linear-w);
      height: var(--beam-linear-h);
      border-radius: 2.4rem;
      animation: linear-fill-button .05s linear .2s 1 forwards;
      z-index: 10;
    }
  }

  .btn-action-primary {
    &:hover::before {
      background: conic-gradient(
              from var(--grad-from),
              transparent var(--beam-1-end),
              var(--color-hl-pink) var(--beam-1-end),
              var(--color-hl-pink) var(--beam-1-start),
              transparent var(--beam-1-start),
              transparent var(--beam-2-end),
              var(--color-hl-pink) var(--beam-2-end),
              var(--color-hl-pink) var(--beam-2-start),
              transparent var(--beam-2-start)
      );
    }
    &:hover::after {
      background: var(--color-hl-pink);
    }
  }
.btn-action-secondary {
  &:hover::before {
    background: conic-gradient(
            from var(--grad-from),
            transparent var(--beam-1-end),
            var(--color-bg-5) var(--beam-1-end),
            var(--color-bg-5) var(--beam-1-start),
            transparent var(--beam-1-start),
            transparent var(--beam-2-end),
            var(--color-bg-5) var(--beam-2-end),
            var(--color-bg-5) var(--beam-2-start),
            transparent var(--beam-2-start)
    );
  }
  &:hover::after {
    background: var(--color-bg-5);
  }
}


  /* ---- animations ---- */
@keyframes border-fade {
  100% {
    /*border: .15rem solid transparent;*/
    background: var(--color-hl-pink);
  }
}
@keyframes orbit-btn {
  0% {
    /*--grad-from: 90deg;*/
    --beam-1-end: 90deg;
    --beam-1-start: 90deg;
    --beam-2-end: 270deg;
    --beam-2-start: 270deg;
  }
  65%, 100% {
    --beam-1-end: 0deg;
    --beam-1-start: 180deg;
    --beam-2-end: 180deg;
    --beam-2-start: 360deg;
  }
  90%, 100% {
    /*filter: blur(2px);*/
  }
}
@keyframes linear-fill-button {
  5% {
    --beam-linear-w: 2%;
  }
  20% {
    --beam-linear-h: 106%;
    --beam-linear-w: 2%;
  }
  80%, 100% {
    --beam-linear-h: 106%;
    --beam-linear-w: 103%;
  }
}
@keyframes text-refresh {
  20%, 80% {
    transform: rotate3d(-1, 0,  0, 90deg);
  }
  60% {
    filter: invert(1) brightness(1.2);
    color: var(--color-light-1);
  }
}
@keyframes fill-fade {
  80% {
    filter: opacity(100%);
  }
  100% {
    filter: opacity(0%);
  }
}
@keyframes image-invert {
  45% {
    filter: invert(0);
  }
  50% {
    filter: invert(1);
  }
}
@keyframes text-invert {
  45% {
    color: var(--color-dark-1)
  }
  50% {
    color: var(--color-light-1)
  }
}